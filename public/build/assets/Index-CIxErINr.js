import{r as i,j as e,L as f,$ as g,S as l}from"./app-DthWHHPj.js";import{c as C,B as n}from"./x-DUXboj6E.js";import{P as N,C as v,c as y,d as w,a as D,b,T as L}from"./trash-2-vjHHR4YZ.js";import{D as S,a as k,b as E,c as I,d as T,I as h}from"./dialog-FBCcnhT4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z=C("Eye",$);function F({lists:m}){const[u,r]=i.useState(!1),[o,d]=i.useState(""),[a,t]=i.useState(null),j=()=>{l.post("/lists",{name:o},{onSuccess:()=>{r(!1),d("")}})},x=()=>{a&&l.put(`/lists/${a.id}`,{name:a.name},{onSuccess:()=>t(null)})},p=s=>{confirm("Êtes-vous sûr de vouloir supprimer cette liste ?")&&l.delete(`/lists/${s}`)};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Listes de contacts"}),e.jsxs("div",{className:"container py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Listes de contacts"}),e.jsxs(S,{open:u,onOpenChange:r,children:[e.jsx(k,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Créer une liste"]})}),e.jsxs(E,{children:[e.jsx(I,{children:e.jsx(T,{children:"Nouvelle liste"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{placeholder:"Nom de la liste",value:o,onChange:s=>d(s.target.value)}),e.jsx(n,{onClick:j,className:"w-full",children:"Créer"})]})]})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(s=>e.jsxs(v,{children:[e.jsx(y,{children:e.jsx(w,{className:"flex justify-between items-center",children:(a==null?void 0:a.id)===s.id?e.jsx(h,{value:a.name,onChange:c=>t({...a,name:c.target.value}),onBlur:x,onKeyDown:c=>c.key==="Enter"&&x(),autoFocus:!0}):e.jsx("span",{children:s.name})})}),e.jsx(D,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:[s.contacts_count," contacts"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{href:`/lists/${s.id}/contacts`,children:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(z,{className:"w-4 h-4"})})}),e.jsx(n,{variant:"outline",size:"icon",onClick:()=>t(s),children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(n,{variant:"outline",size:"icon",onClick:()=>p(s.id),children:e.jsx(L,{className:"w-4 h-4"})})]})]})})]},s.id))})]})]})}export{F as default};
